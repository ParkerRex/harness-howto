# OpenCode Key Patterns

- MessageV2 parts model tools, reasoning, files, and compaction as typed parts.
- A server-side processor streams updates through an event bus to clients.
- Tool registry merges built-ins, plugins, config-defined tools, and MCP sources.
- Compaction runs as a dedicated agent that injects summary parts.
